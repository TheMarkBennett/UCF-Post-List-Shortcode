var PostTypeSearchDataManager={searches:[],register:function(e){this.searches.push(e)}},PostTypeSearchData=function(e,t,n){this.column_count=e,this.column_width=t,this.data=n},PostTypeSearch=function(e){e(".post-type-search").each(function(t,n){function a(t){t.hasClass("sorting-filter-all")?f.fadeOut("fast",function(){c.fadeIn(),h.find(".active").removeClass("active"),n.find(".post-type-search-section.active").removeClass("active").hide(),t.addClass("active")}):c.fadeOut("fast",function(){f.fadeIn(),h.find(".active").removeClass("active"),n.find(".post-type-search-section.active").removeClass("active").hide(),t.addClass("active"),e(t.attr("href")).fadeIn().addClass("active")})}function i(t){l.empty(),l.append(e('<p class="post-type-search-message"><big>'+t+"</big></p>")),l.show()}function s(t){var n=[],a=[],s=null,o=[],r=0;if(t.length<w)return l.empty(),l.hide(),void(m=null);if(e.each(p,function(a,i){e.each(i,function(a,i){e.each(i,function(e,i){if(-1!==i.indexOf(t.toLowerCase()))return n.push(a),!1})})}),0===n.length)i("No results were found.");else if(e.each(n,function(e,t){var n=c.find('li[data-post-id="'+t+'"]:eq(0)'),i=parseInt(t,10);r+=i,1===n.length&&a.push(n.clone())}),0===a.length)i("No results were found.");else if(r!==m){l.empty(),m=r,s=Math.ceil(a.length/v);for(var f=0;f<v;f++){var h=f*s,u=h+s;a.length>h&&(o[f]=a.slice(h,u))}l.append(e('<div class="row"></div>')),e.each(o,function(t,n){var a=e('<div class="'+g+'"><ul class="result-list"></ul></div>'),i=a.find("ul");e.each(n,function(t,n){i.append(e(n))}),l.find('div[class="row"]').append(a)}),l.show()}}var o=(n=e(n)).find(".post-type-search-form"),r=o.find('input[type="text"]'),l=n.find(".post-type-search-results"),c=n.find(".post-type-search-term"),f=n.find(".post-type-search-alpha"),h=n.find(".post-type-search-sorting"),u=h.find(".sorting-filter"),d=null,p=null,v=null,g=null,y=null,m=null,w=2;if(void 0===(d=PostTypeSearchDataManager.searches[t]))return!1;if(p=d.data,v=d.column_count,g=d.column_width,0===v||""===g)return!1;if(f.find(".post-type-search-section").hide(),window.location.hash){var C=window.location.hash,T=e('.sorting-filter[href="'+C.toLowerCase()+'"]:eq(0)');a(T.length?T:u.filter(".sorting-filter-all"))}else a(u.filter(".sorting-filter-all"));u.on("click",function(t){t.preventDefault();var n=e(this);window.location.hash=n.attr("href"),a(n)}),o.submit(function(e){e.preventDefault(),s(r.val())}),r.keyup(function(){null!==y&&clearTimeout(y),y=setTimeout(function(){o.trigger("submit")},300)})})};$(PostTypeSearch);